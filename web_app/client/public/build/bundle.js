var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function d(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}function m(t,e,n){t.classList[n?"add":"remove"](e)}let y;function v(t){y=t}const $=[],b=[],_=[],x=[],w=Promise.resolve();let E=!1;function k(t){_.push(t)}let D=!1;const S=new Set;function T(){if(!D){D=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];v(e),O(e.$$)}for($.length=0;b.length;)b.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];S.has(e)||(S.add(e),e())}_.length=0}while($.length);for(;x.length;)x.pop()();E=!1,D=!1,S.clear()}}function O(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const j=new Set;let L;function N(){L={r:0,c:[],p:L}}function A(){L.r||l(L.c),L=L.p}function C(t,e){t&&t.i&&(j.delete(t),t.i(e))}function M(t,e,n,l){if(t&&t.o){if(j.has(t))return;j.add(t),L.c.push(()=>{j.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}}function H(t,n,r){const{fragment:c,on_mount:s,on_destroy:i,after_update:a}=t.$$;c&&c.m(n,r),k(()=>{const n=s.map(e).filter(o);i?i.push(...n):l(n),t.$$.on_mount=[]}),a.forEach(k)}function P(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&($.push(t),E||(E=!0,w.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,o,r,c,s,a,u=[-1]){const f=y;v(e);const p=o.props||{},d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u};let g=!1;if(d.ctx=r?r(e,p,(t,n,...l)=>{const o=l.length?l[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),g&&q(e,t)),n}):[],d.update(),g=!0,l(d.before_update),d.fragment=!!c&&c(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(i)}else d.fragment&&d.fragment.c();o.intro&&C(e.$$.fragment),H(e,o.target,o.anchor),T()}v(f)}class R{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function X(t){return Object.entries(t)}function B(t,e,n){const l=t.slice();return l[8]=e[n],l}function J(t,e,n){const l=t.slice();return l[5]=e[n],l[7]=n,l}function I(t){let e,n;return{c(){e=u("div"),e.innerHTML='<p class="svelte-y4l14i"></p> \n            <p class="svelte-y4l14i">-</p> \n            <p class="svelte-y4l14i">-</p> \n            <p class="svelte-y4l14i">-</p> \n            <p class="svelte-y4l14i">-</p>',g(e,"class",n="row grid "+t[5]+" svelte-y4l14i")},m(t,n){s(t,e,n)},d(t){t&&i(e)}}}function U(t){let e,n,l,r,a,y,v,$,b,_,x,w,E,k,D,S,T,O,j,L,N,A,C,M,H,P,q=t[8].match+"",Q=t[8].date+"",R=t[8].outcome+"",X=t[8].marathon+"",B=t[8].pinnacle+"",J=t[8].coeff+"",I=t[8].stake+"";return{c(){e=u("div"),n=u("p"),l=f(q),r=f(" ("),a=f(Q),y=f(")"),v=p(),$=u("p"),b=f(R),_=p(),x=u("p"),w=f(X),E=f(" ("),k=f(B),D=f(")"),S=p(),T=u("p"),O=u("b"),j=f(J),L=p(),N=u("p"),A=f("â‚¬ "),C=f(I),g(n,"class","svelte-y4l14i"),g($,"class","svelte-y4l14i"),g(x,"class","svelte-y4l14i"),g(O,"class","svelte-y4l14i"),m(O,"alert",t[8].coeff>2),g(T,"class","svelte-y4l14i"),g(N,"class","svelte-y4l14i"),g(e,"class",M="row grid "+t[5]+" svelte-y4l14i"),m(e,"tie","X"==t[8].outcome)},m(i,u){s(i,e,u),c(e,n),c(n,l),c(n,r),c(n,a),c(n,y),c(e,v),c(e,$),c($,b),c(e,_),c(e,x),c(x,w),c(x,E),c(x,k),c(x,D),c(e,S),c(e,T),c(T,O),c(O,j),c(e,L),c(e,N),c(N,A),c(N,C),H||(P=d(e,"click",(function(){o(t[3](t[8]))&&t[3](t[8]).apply(this,arguments)})),H=!0)},p(n,o){t=n,2&o&&q!==(q=t[8].match+"")&&h(l,q),2&o&&Q!==(Q=t[8].date+"")&&h(a,Q),2&o&&R!==(R=t[8].outcome+"")&&h(b,R),2&o&&X!==(X=t[8].marathon+"")&&h(w,X),2&o&&B!==(B=t[8].pinnacle+"")&&h(k,B),2&o&&J!==(J=t[8].coeff+"")&&h(j,J),2&o&&m(O,"alert",t[8].coeff>2),2&o&&I!==(I=t[8].stake+"")&&h(C,I),2&o&&m(e,"tie","X"==t[8].outcome)},d(t){t&&i(e),H=!1,P()}}}function z(t){let e,n,l=t[1][t[5]],o=[];for(let e=0;e<l.length;e+=1)o[e]=U(B(t,l,e));let r=null;return l.length||(r=I(t)),{c(){e=u("div");for(let t=0;t<o.length;t+=1)o[t].c();r&&r.c(),n=p(),g(e,"class","tier svelte-y4l14i")},m(t,l){s(t,e,l);for(let t=0;t<o.length;t+=1)o[t].m(e,null);r&&r.m(e,null),c(e,n)},p(t,c){if(10&c){let s;for(l=t[1][t[5]],s=0;s<l.length;s+=1){const r=B(t,l,s);o[s]?o[s].p(r,c):(o[s]=U(r),o[s].c(),o[s].m(e,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=l.length,l.length?r&&(r.d(1),r=null):r||(r=I(t),r.c(),r.m(e,n))}},d(t){t&&i(e),a(o,t),r&&r.d()}}}function F(e){let n,l,o,r,d,m,y,v,$,b,_=["tier_1","tier_2","tier_3"],x=[];for(let t=0;t<3;t+=1)x[t]=z(J(e,_,t));return{c(){n=u("div"),l=u("h2"),o=u("img"),d=p(),m=f(e[0]),y=p(),v=u("div"),$=u("div"),$.innerHTML='<p class="svelte-y4l14i">Evento (Data)</p> \n      <p class="svelte-y4l14i">Esito</p> \n      <p class="svelte-y4l14i">Quota*</p> \n      <p class="svelte-y4l14i">Coeff.</p> \n      <p class="svelte-y4l14i">Stake</p>',b=p();for(let t=0;t<3;t+=1)x[t].c();o.src!==(r=e[2])&&g(o,"src",r),g(o,"alt","flag"),g(o,"class","svelte-y4l14i"),g(l,"class","svelte-y4l14i"),g($,"class","table-head grid svelte-y4l14i"),g(v,"class","table svelte-y4l14i")},m(t,e){s(t,n,e),c(n,l),c(l,o),c(l,d),c(l,m),c(n,y),c(n,v),c(v,$),c(v,b);for(let t=0;t<3;t+=1)x[t].m(v,null)},p(t,[e]){if(4&e&&o.src!==(r=t[2])&&g(o,"src",r),1&e&&h(m,t[0]),10&e){let n;for(_=["tier_1","tier_2","tier_3"],n=0;n<3;n+=1){const l=J(t,_,n);x[n]?x[n].p(l,e):(x[n]=z(l),x[n].c(),x[n].m(v,null))}for(;n<3;n+=1)x[n].d(1)}},i:t,o:t,d(t){t&&i(n),a(x,t)}}}function G(t,e,n){let{country:l}=e,{tierData:o}=e;const r={inghilterra:"gb",italia:"it",spagna:"es",portogallo:"pt",russia:"ru"};let c;return t.$set=t=>{"country"in t&&n(0,l=t.country),"tierData"in t&&n(1,o=t.tierData)},t.$$.update=()=>{1&t.$$.dirty&&n(2,c=`https://www.countryflags.io/${r[l]}/flat/64.png`)},[l,o,c,t=>{console.log(t),function(t){const e=new XMLHttpRequest;e.open("POST",t.endpoint,!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){const t=JSON.parse(e.responseText);console.log(t)}},e.send(JSON.stringify(t.data))}({endpoint:"/save_bet",data:t})}]}class K extends R{constructor(t){super(),Q(this,t,G,F,r,{country:0,tierData:1})}}function V(t,e,n){const l=t.slice();return l[5]=e[n][0],l[6]=e[n][1],l}function W(t){let e,n,l;const o=new K({props:{country:t[5],tierData:t[6]}});return{c(){var t;(t=o.$$.fragment)&&t.c(),e=p(),n=u("br")},m(t,r){H(o,t,r),s(t,e,r),s(t,n,r),l=!0},p(t,e){const n={};1&e&&(n.country=t[5]),1&e&&(n.tierData=t[6]),o.$set(n)},i(t){l||(C(o.$$.fragment,t),l=!0)},o(t){M(o.$$.fragment,t),l=!1},d(t){P(o,t),t&&i(e),t&&i(n)}}}function Y(t){let e,n,l=(t[6].tier_1.length||t[6].tier_2.length||t[6].tier_3.length)&&W(t);return{c(){l&&l.c(),e=f("")},m(t,o){l&&l.m(t,o),s(t,e,o),n=!0},p(t,n){t[6].tier_1.length||t[6].tier_2.length||t[6].tier_3.length?l?(l.p(t,n),1&n&&C(l,1)):(l=W(t),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(N(),M(l,1,1,()=>{l=null}),A())},i(t){n||(C(l),n=!0)},o(t){M(l),n=!1},d(t){l&&l.d(t),t&&i(e)}}}function Z(t){let e,n,l,o,r,h,m=!((y=X)&&0===Object.keys(y).length);var y;let v,$,b,_,x,w,E,k=X(t[0]),D=[];for(let e=0;e<k.length;e+=1)D[e]=Y(V(t,k,e));const S=t=>M(D[t],1,1,()=>{D[t]=null});let T=m&&function(t){let e;return{c(){e=f("*: Quota Marathon (Quota Pinnacle)")},m(t,n){s(t,e,n)},d(t){t&&i(e)}}}();return{c(){e=u("div"),n=u("div"),l=u("div"),o=u("button"),o.textContent="UPDATE TIERS",r=p();for(let t=0;t<D.length;t+=1)D[t].c();h=p(),T&&T.c(),v=p(),$=u("br"),b=p(),_=u("br"),g(o,"class","btn btn-light"),g(l,"class","main-btn-container svelte-1flvyhs"),g(n,"class","container")},m(i,a){s(i,e,a),c(e,n),c(n,l),c(l,o),c(n,r);for(let t=0;t<D.length;t+=1)D[t].m(n,null);c(n,h),T&&T.m(n,null),c(n,v),c(n,$),c(n,b),c(n,_),x=!0,w||(E=d(o,"click",t[1]),w=!0)},p(t,[e]){if(1&e){let l;for(k=X(t[0]),l=0;l<k.length;l+=1){const o=V(t,k,l);D[l]?(D[l].p(o,e),C(D[l],1)):(D[l]=Y(o),D[l].c(),C(D[l],1),D[l].m(n,h))}for(N(),l=k.length;l<D.length;l+=1)S(l);A()}},i(t){if(!x){for(let t=0;t<k.length;t+=1)C(D[t]);x=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)M(D[t]);x=!1},d(t){t&&i(e),a(D,t),T&&T.d(),w=!1,E()}}}function tt(t,e,n){let l={};return[l,async function(){n(0,l=await(await fetch("/get_tiers")).json())}]}return new class extends R{constructor(t){super(),Q(this,t,tt,Z,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
